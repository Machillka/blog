<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="综述 文本编辑器使用 Obsidian 云端存储 Github 比之前==加强的一点== —— 可以选择是否要上传到 Blog 上\n早年想到的方案是在 github 上跨仓库调用，但是这样无法实现\n实现 针对 Blog System 首先使用 Hugo 快速搭建静态 blog 的一个主框架（主要是对 Go 比较熟悉 接着快速加入 theme 等子模块 使用 Github Action 自动部署到 Pages 上\n针对 Obsidian 把普通笔记和博客文章的元数据封装成 Template Quick Add 先搭建基础模型 —— 创建两个 Choice 分别对应通过模板创建普通笔记和博客笔记 编写一个宏 —— 包含把当前激活的文件封装成 Hugo Pages 需要的形式 最后再次利用 Quick Add 调用脚本实现上传到 Github 上触发条件可以是手动或者保存时自动调用 编写 workflow 以调用 Github Action 自动部署 踩坑 Template 模板生成的时间与 Hugo 不对应，导致无法在 Hugo 上构建\nPages 没有添加 CNAME 解析，导致域名绑定失效\n"><title>笔记目录工作流</title><link rel=canonical href=https://blog.machillka.me/p/%E7%AC%94%E8%AE%B0%E7%9B%AE%E5%BD%95%E5%B7%A5%E4%BD%9C%E6%B5%81/><link rel=stylesheet href=/scss/style.min.934d92cb7079a4fcb2dc5c7199a7cd6d864f13841277a0f70c8ce3149c719cfa.css><meta property='og:title' content="笔记目录工作流"><meta property='og:description' content="综述 文本编辑器使用 Obsidian 云端存储 Github 比之前==加强的一点== —— 可以选择是否要上传到 Blog 上\n早年想到的方案是在 github 上跨仓库调用，但是这样无法实现\n实现 针对 Blog System 首先使用 Hugo 快速搭建静态 blog 的一个主框架（主要是对 Go 比较熟悉 接着快速加入 theme 等子模块 使用 Github Action 自动部署到 Pages 上\n针对 Obsidian 把普通笔记和博客文章的元数据封装成 Template Quick Add 先搭建基础模型 —— 创建两个 Choice 分别对应通过模板创建普通笔记和博客笔记 编写一个宏 —— 包含把当前激活的文件封装成 Hugo Pages 需要的形式 最后再次利用 Quick Add 调用脚本实现上传到 Github 上触发条件可以是手动或者保存时自动调用 编写 workflow 以调用 Github Action 自动部署 踩坑 Template 模板生成的时间与 Hugo 不对应，导致无法在 Hugo 上构建\nPages 没有添加 CNAME 解析，导致域名绑定失效\n"><meta property='og:url' content='https://blog.machillka.me/p/%E7%AC%94%E8%AE%B0%E7%9B%AE%E5%BD%95%E5%B7%A5%E4%BD%9C%E6%B5%81/'><meta property='og:site_name' content="Machillka's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2025-06-20T00:00:42+08:00'><meta property='article:modified_time' content='2025-06-20T00:00:42+08:00'><meta name=twitter:title content="笔记目录工作流"><meta name=twitter:description content="综述 文本编辑器使用 Obsidian 云端存储 Github 比之前==加强的一点== —— 可以选择是否要上传到 Blog 上\n早年想到的方案是在 github 上跨仓库调用，但是这样无法实现\n实现 针对 Blog System 首先使用 Hugo 快速搭建静态 blog 的一个主框架（主要是对 Go 比较熟悉 接着快速加入 theme 等子模块 使用 Github Action 自动部署到 Pages 上\n针对 Obsidian 把普通笔记和博客文章的元数据封装成 Template Quick Add 先搭建基础模型 —— 创建两个 Choice 分别对应通过模板创建普通笔记和博客笔记 编写一个宏 —— 包含把当前激活的文件封装成 Hugo Pages 需要的形式 最后再次利用 Quick Add 调用脚本实现上传到 Github 上触发条件可以是手动或者保存时自动调用 编写 workflow 以调用 Github Action 自动部署 踩坑 Template 模板生成的时间与 Hugo 不对应，导致无法在 Hugo 上构建\nPages 没有添加 CNAME 解析，导致域名绑定失效\n"><link rel="shortcut icon" href=/avatar.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_859665ad302195b0.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Machillka's Blog</a></h1><h2 class=site-description></h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/611004244 target=_blank title=Bilibili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=mailto:mail@machillka.me target=_blank title=E-mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-gmail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M16 20h3a1 1 0 001-1V5a1 1 0 00-1-1h-3v16z"/><path d="M5 20h3V4H5A1 1 0 004 5v14a1 1 0 001 1z"/><path d="M16 4l-4 4-4-4"/><path d="M4 6.5l8 7.5 8-7.5"/></svg></a></li><li><a href=https://github.com/Machillka target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#针对-blog-system>针对 Blog System</a></li><li><a href=#针对-obsidian>针对 Obsidian</a></li></ol><ol><li><a href=#template>Template</a></li><li><a href=#pages>Pages</a></li><li><a href=#quick-add>Quick Add</a></li><li><a href=#js>JS</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/workflow/>Workflow</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E7%AC%94%E8%AE%B0%E7%9B%AE%E5%BD%95%E5%B7%A5%E4%BD%9C%E6%B5%81/>笔记目录工作流</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 20, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>1 minute read</time></div></footer></div></header><section class=article-content><h1 id=综述>综述</h1><p>文本编辑器使用 Obsidian
云端存储 Github
比之前==加强的一点== —— 可以选择是否要上传到 Blog 上</p><p>早年想到的方案是在 github 上跨仓库调用，但是这样无法实现</p><h1 id=实现>实现</h1><h2 id=针对-blog-system>针对 Blog System</h2><p>首先使用 Hugo 快速搭建静态 blog 的一个主框架（主要是对 Go 比较熟悉
接着快速加入 theme 等子模块
使用 Github Action 自动部署到 Pages 上</p><h2 id=针对-obsidian>针对 Obsidian</h2><ol><li>把普通笔记和博客文章的元数据封装成 Template</li><li>Quick Add<ol><li>先搭建基础模型 —— 创建两个 Choice 分别对应通过模板创建普通笔记和博客笔记</li><li>编写一个宏 —— 包含把当前激活的文件封装成 Hugo Pages 需要的形式</li></ol></li><li>最后再次利用 Quick Add 调用脚本实现上传到 Github 上触发条件可以是手动或者保存时自动调用</li><li>编写 workflow 以调用 Github Action 自动部署</li></ol><h1 id=踩坑>踩坑</h1><h2 id=template>Template</h2><p>模板生成的时间与 Hugo 不对应，导致无法在 Hugo 上构建</p><h2 id=pages>Pages</h2><p>没有添加 CNAME 解析，导致域名绑定失效</p><h2 id=quick-add>Quick Add</h2><blockquote class="alert alert-danger"><p class=alert-heading>非常恶心</p></blockquote><p>没有重启 Obsidian 调用外部 JS 会提示空！</p><h2 id=js>JS</h2><p><del>速通 JS 导致写的很烂</del></p><p>调用 powershell 的时候 使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>exec</span><span class=p>(</span><span class=nx>powershell</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>而不是</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>exec</span><span class=p>(</span><span class=nx>pwsh</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>powershell 默认路径是 Windows 下的垃圾东西，也没设置 Proxy，导致连接 Github 可能失败</p><h1 id=未来可期>未来可期</h1><p>封装成一个插件丢到社区里</p></section><footer class=article-footer></footer></article><footer class=site-footer><section class=copyright>&copy;
1999 -
2025 Machillka's Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>